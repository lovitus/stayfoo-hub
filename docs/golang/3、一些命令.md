# 命令

## 一些命令

```Bash
go          # 显示命令相关帮助信息
go env      # 显示go环境变量
go install  # 编译和安装包、依赖
go test     # 运行测试代码。

# 从互联网上下载或更新指定的代码包及其依赖包，并对他们进行编译和安装。
# eg:  go get github.com/bitly/nsq/
go get 
# 从网上下载指定的代码包及其依赖包，并对他们进行编译和安装
```

----------

## `build`、`run`、`install`、`clean` 命令

### 1. `go build`

- 启动编译器，执行编译

```go
go build hello.go
```

>- 大部分 `go` 工具的命令都会接受一个包名作为参数。
>-  在不给定文件名时，`go` 工具会默认使用当前目录来编译。
>-  可以直接指定包，对包进行编译构建，构建包也是很常用的。

- 可以在指定包的时候使用通配符，三个点表示匹配所有的字符串：

```go
go build project/lib/...
```

- 除了使用指定包，大部分 `go` 命令使用短路径作为参数。下面两条命令效果相同。

```go
go build wordcount.go
go build .
```

### 2. `go run`

编译并运行 Go 程序。

先编译，然后执行编译创建的 `wordcount` 或者 `wordcount.exe` 程序。

>- `run` 命令一次完成这两个操作。
>- 编译包和依赖，会在执行命令时所在目录生成可执行文件。

```go
go run wordcount.go
```

### 3. `go install` 

编译和安装包、依赖。

`go install` 命令比 `go build` 命令多做了：安装编译后的结果文件到指定目录。


### 4. `go clean` 
 
执行清理。

当用户将代码迁入源码库里的时候，开发人员可能并不想迁入编译生成的文件。可以使用 `clean` 命令解决这个问题。

调用 `clean` 会删除编译生成的可执行文件。

```go
go clean hello.go
```

----------

## `fmt`命令

`fmt` 工具命令会将开发人员的代码格式化成和 `go` 源代码类似的风格。

```bash
go fmt 文件名或包名
```

----------

## `vet`命令

`vet` 命令可以帮助开发人员检测代码的常见错误。

`vet` 可以捕获的错误类型：
- `Printf` 类函数调用时，类型匹配错误的参数。
- 定义常用的方法时，方法签名的错误。
- 错误的结构标签。
- 没有指定字段名的结构字面量。

----------

## `go` 语言的文档

- 方式一：
 
终端 `go doc` 命令打印文档。

```bash
go doc
```

- 方式二：

`godoc` 程序启动一个 `Web` 服务器，浏览器查看。

通知 `godoc` 在端口 `6060` 启动 `Web` 服务器。所有 `go` 标准库和 `GOPATH` 下的 `Go` 源代码的文档。

```bash
godoc -http=:6060
# http://localhost:6060/ 
```

给一个包添加一段文字量比较大的文档，可以在工程里面包含一个叫做 `doc.go` 的文件，使用同样的包名，并把包的介绍使用注释加在包名声明之前。

